{% extends 'clinical_app/base.html' %}

{% block title %}{{ report.title }}{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="printable-report">
        <div class="card shadow-sm p-4 mb-4">
            <div class="card-body">
                <h1 class="card-title text-center text-primary fw-bold mb-3">{{ report.title }}</h1>
                <div class="d-flex justify-content-center flex-wrap gap-3 text-muted mb-4">
                    <span class="d-block"><i class="bi bi-calendar me-2"></i>Generated on: {{ report.generated_at|date:"F d, Y P" }}</span>
                    <span class="d-block"><i class="bi bi-person me-2"></i>Generated by: {{ report.generated_by.username }}</span>
                    <span class="d-block"><i class="bi bi-clock me-2"></i>Date Range: {{ report.date_range_start|default:"N/A" }} to {{ report.date_range_end|default:"N/A" }}</span>
                </div>
            </div>
        </div>

        <div class="card shadow p-4 mb-4">
            <div class="card-body">
                {{ report_content|safe }}
            </div>
        </div>
    </div>

    <div class="text-center mt-4 d-print-none">
        <a href="{% url 'report_list' %}" class="btn btn-secondary me-2">
            <i class="bi bi-arrow-left me-2"></i>Back to Report List
        </a>
        <button onclick="window.print()" class="btn btn-primary">
            <i class="bi bi-printer me-2"></i>Print Report
        </button>
    </div>
</div>
{% endblock %}